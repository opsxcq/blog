<!doctype html><html lang=en><head><title>Minesort, a cryptography based sorting algorithm &ndash; STRM</title><meta name=description content="A pro-freedom hacktivist thinktank.
"><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.1/css/academicons.min.css integrity="sha512-b1ASx0WHgVFL5ZQhTgiPWX+68KjS38Jk87jg7pe+qC7q9YkEtFq0z7xCglv7qGIs/68d3mAp+StfC8WKC5SSAg==" crossorigin=anonymous><link rel=stylesheet href=https://strm.sh/css/colour/strm-dark.css><link rel=stylesheet href=https://strm.sh/css/colour/dark-mode.css><link rel=stylesheet href=https://strm.sh/css/main.css><link rel=stylesheet href=https://strm.sh/css/custom.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-MP6DVP84T7"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-MP6DVP84T7")</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css integrity=sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js integrity=sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script></head><body><div class=page><header class=page__header><h1 class=page__logo><a href=https://strm.sh class=page__logo-inner>STRM</a></h1><nav class="page__nav main-nav"><ul><li class=main-nav__item><a class=nav-main-item href=/posts/ title>Posts</a></li><li class=main-nav__item><a class=nav-main-item href=/projects/ title>Projects</a></li><li class=main-nav__item><a class=nav-main-item href=/malware-samples/ title>Malware</a></li><li class=main-nav__item><a class=nav-main-item href=/studies/ title>Studies</a></li><li class=main-nav__item><a class=nav-main-item href=https://github.com/opsxcq/blog/discussions/3>Forum</a></li></ul></nav></header><section class=page__body><header class=content__header><h1>Minesort, a cryptography based sorting algorithm</h1></header><div class=content__body><p>Mine sort is a cryptography based sorting algorithm that can run in \(O(n)\) time
if you are lucky. It consists in two stages, the first one is to create a
cryptographic seed, and the second one is to check if the seed sorts the array.</p><p>Digging further into the first stage, this seed consists of the double hash of a
static content which previously is concatenated with a <code>seed</code>. This <code>seed</code> can be
anything, a random or sequential number or some string. The main goal of the
algorithm is to find the correct <code>seed</code> value which will sort the input. This is
better expressed via code, so here it is:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>key<span style=color:#f92672>=</span>sha256(str(sha256(<span style=color:#e6db74>&#34;Mine sort is the best &#34;</span><span style=color:#f92672>+</span>str(seed))))
</span></span></code></pre></div><p>The second step is to try to sort the input based on the generated <code>key</code>. Given
that the generated hash can be expressed as a number, the algorithm generate
pairs of elements that will be swapped by applying the <strong>mod</strong> operator to the
content, and then dividing it by the size of the input, so the same value won&rsquo;t
be repeated. The following code express what was said on this paragraph:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>index1 <span style=color:#f92672>=</span> key <span style=color:#f92672>%</span> len(input)
</span></span><span style=display:flex><span>key <span style=color:#f92672>=</span> key <span style=color:#f92672>//</span> len(input)
</span></span><span style=display:flex><span>index2 <span style=color:#f92672>=</span> key <span style=color:#f92672>%</span> len(input)
</span></span><span style=display:flex><span>key <span style=color:#f92672>=</span> key <span style=color:#f92672>//</span> len(input)
</span></span><span style=display:flex><span>input[index1], input[index2] <span style=color:#f92672>=</span> input[index2], input[index1]
</span></span></code></pre></div><p>If this <code>seed</code> sorts the array, that is it ! You got your solution !
Congratulations, now you can apply your solution and sort your input in \(o(n)\)
time ! But for sure some quick sort fanatics will be butt hurt about this code
and will complain about the cryptography part of it, this is just people that
don&rsquo;t accept an algorithm that can sort an input in \(o(n)\) !</p><h2 id=complete-source-code>Complete source code</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> hashlib
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>sha256</span>(data):
</span></span><span style=display:flex><span>    digest <span style=color:#f92672>=</span> hashlib<span style=color:#f92672>.</span>new(<span style=color:#e6db74>&#34;sha256&#34;</span>)
</span></span><span style=display:flex><span>    digest<span style=color:#f92672>.</span>update(data<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> int(digest<span style=color:#f92672>.</span>hexdigest(), <span style=color:#ae81ff>16</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>sort</span>(input, key):
</span></span><span style=display:flex><span>    input <span style=color:#f92672>=</span> input[:]
</span></span><span style=display:flex><span>    val <span style=color:#f92672>=</span> key
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>0</span>, len(input) <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>        index1 <span style=color:#f92672>=</span> key <span style=color:#f92672>%</span> len(input)
</span></span><span style=display:flex><span>        key <span style=color:#f92672>=</span> key <span style=color:#f92672>//</span> len(input)
</span></span><span style=display:flex><span>        index2 <span style=color:#f92672>=</span> key <span style=color:#f92672>%</span> len(input)
</span></span><span style=display:flex><span>        key <span style=color:#f92672>=</span> key <span style=color:#f92672>//</span> len(input)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> key <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            key <span style=color:#f92672>=</span> val
</span></span><span style=display:flex><span>        input[index1], input[index2] <span style=color:#f92672>=</span> input[index2], input[index1]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> all(input[i] <span style=color:#f92672>&lt;=</span> input[i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(len(input)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>minesort</span>(input):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> seed <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>200000</span>):
</span></span><span style=display:flex><span>        key<span style=color:#f92672>=</span>sha256(str(sha256(<span style=color:#e6db74>&#34;Mine sort is the best &#34;</span><span style=color:#f92672>+</span>str(seed))))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> sort(input, key):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> seed
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;Seed &#34;</span><span style=color:#f92672>+</span>str(minesort([<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>12</span>,<span style=color:#ae81ff>2</span>])))
</span></span></code></pre></div></div><footer class=content__footer></footer><script src=https://utteranc.es/client.js repo=opsxcq/blog issue-term=title label=comment theme=dark-blue crossorigin=anonymous async></script></section><section class=page__aside><div class=aside__about><div class=aside__about><h1 class=about__title>## STRM ##</h1><p class=about__description>A pro-freedom hacktivist thinktank.</p></div><ul class=aside__social-links><li><a href=https://github.com/opsxcq/blog rel=me aria-label=GitHub title=GitHub><i class="fab fa-github" aria-hidden=true></i></a>&nbsp;</li><li><a href=mailto:trash-can@strm.sh rel=me aria-label=Email title=Email><i class="fas fa-envelope" aria-hidden=true></i></a>&nbsp;</li><li><a href=https://keybase.io/terminator rel=me aria-label="Keybase OPSXCQ" title="Keybase OPSXCQ"><i class="fab fa-keybase" aria-hidden=true></i></a>&nbsp;</li><li><a href=https://keybase.io/team/cryptoanarquismo rel=me aria-label="Keybase Crypto" title="Keybase Crypto"><i class="fas fa-users" aria-hidden=true></i></a>&nbsp;</li><li><a href=https://keybase.io/team/deepweb rel=me aria-label="Keybase Deep Web" title="Keybase Deep Web"><i class="fas fa-users" aria-hidden=true></i></a>&nbsp;</li><li><a href=https://github.com/opsxcq/blog/discussions/3 rel=me aria-label=Forum title=Forum><i class="fas fa-users" aria-hidden=true></i></a>&nbsp;</li><li><a href=https://gitter.im/strm-blog/community rel=me aria-label=Gitter title=Gitter><i class="fab fa-gitter" aria-hidden=true></i></a>&nbsp;</li></ul></div><hr><div class=aside__content><p>By [OPSXCQ],
2019-06-29</p><nav id=TableOfContents><ul><li><a href=#complete-source-code>Complete source code</a></li></ul></nav></div></section><footer class=page__footer><p class=copyright>STRM</p><p class=advertisement>Powered by <a href=https://github.com/opsxcq/blog>Open Source</a></p></footer></div></body></html>